import{_ as m,M as w,r as g,o as n,c as i,w as y,v as C,a as v,b as e,F as h,d as p,t as l,p as $,e as S}from"./index.f12104eb.js";const T={name:"Dashboard",data(){return{burgers:null,burgerId:null,status:[],msg:null}},components:{Message:w},methods:{async getPedidos(){const a=await(await fetch("http://localhost:3000/burgers")).json();this.burgers=a,this.getStatus()},async getStatus(){const a=await(await fetch("http://localhost:3000/status")).json();this.status=a},async deleteBurger(t){await(await fetch(`http://localhost:3000/burgers/${t}`,{method:"DELETE"})).json(),this.msg="Pedido removido com sucesso!",setTimeout(()=>this.msg="",3e3),this.getPedidos()},async updateBurger(t,a){const r=t.target.value,u=JSON.stringify({status:r}),c=await(await fetch(`http://localhost:3000/burgers/${a}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:u})).json();this.msg=`O pedido N\xBA ${c.id} foi atualizado para ${c.status}`,setTimeout(()=>this.msg="",3e3)}},mounted(){this.getPedidos()}},b=t=>($("data-v-76d68487"),t=t(),S(),t),q={id:"burgerTable"},B=b(()=>e("div",null,[e("div",{id:"burgerTableHeading"},[e("div",{class:"orderId"},"#:"),e("div",null,"Cliente"),e("div",null,"P\xE3o"),e("div",null,"Carne"),e("div",null,"Opcionais"),e("div",null,"A\xE7\xF5es:")])],-1)),D={id:"burgerTableRows"},P={class:"orderNumber"},k=["onChange"],I=b(()=>e("option",{value:""},"Selecione",-1)),j=["value","selected"],x=["onClick"];function N(t,a,r,u,d,c){const _=g("Message");return n(),i("div",q,[y(v(_,{msg:d.msg},null,8,["msg"]),[[C,d.msg]]),B,e("div",D,[(n(!0),i(h,null,p(d.burgers,s=>(n(),i("div",{class:"burgerTableRow",key:s.id},[e("div",P,l(s.id),1),e("div",null,l(s.nome),1),e("div",null,l(s.pao),1),e("div",null,l(s.carne),1),e("div",null,[e("ul",null,[(n(!0),i(h,null,p(s.opcionais,(o,f)=>(n(),i("li",{key:f},l(o),1))),128))])]),e("div",null,[e("select",{name:"status",class:"status",onChange:o=>c.updateBurger(o,s.id)},[I,(n(!0),i(h,null,p(d.status,o=>(n(),i("option",{key:o.id,value:o.tipo,selected:s.status==o.tipo},l(o.tipo),9,j))),128))],40,k),e("button",{class:"deleteBtn",onClick:o=>c.deleteBurger(s.id)},"Cancelar",8,x)])]))),128))])])}const E=m(T,[["render",N],["__scopeId","data-v-76d68487"]]),M={name:"Pedidos",components:{Dashboard:E}},O={class:"mainContainer"},V=e("h1",null,"Gerenciar pedidos",-1);function A(t,a,r,u,d,c){const _=g("Dashboard");return n(),i("div",O,[V,v(_)])}const H=m(M,[["render",A]]);export{H as default};
